<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.jxdedu.dao.ScoreDao">
<!-- Score 表字段
名称                                      					是否为空? 	类型
STUID                                     NOT NULL NUMBER(7)
COURSEID                                           NUMBER(7)
SCORE                                              NUMBER(7)
 -->
 <resultMap type="Score" id="scores">
 <result property="stuId" column="stuid"/>
	 <result property="courseId" column="courseid"/>
	 <result property="score" column="score"/>
	 <association property="course" javaType="Course">
	 	<result property="courseName" column="coursename"/>
	 	<result property="courseState" column="coursestate"/>
	 </association>
 </resultMap>
 <select id="getAllScore" resultMap="scores" resultType="Score">
 select score.stuid,score.score,course.courseName,score.courseId from score,course 
 	where score.courseid = course.courseid order by score.stuid,score.courseId
 </select>
 	<!-- 添加一条新的成绩记录 -->
 	<insert id="addScore">
 		insert into score(stuId, courseId, score)
 		values(#{stuId},#{courseId}, #{score})
 	</insert>
 
	<!-- 更新语句,按照给定的 stuID 和 courseID,更新其 score -->
	<update id="updateScore" parameterType="Score">
		update score 
		set score=#{score}
		where stuID=#{stuId} and courseID=#{courseId}
	</update>
	

	
</mapper>